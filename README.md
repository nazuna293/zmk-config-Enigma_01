# Enigma_01 ビルドガイド  

ここでは使用開始までの手順とキーマップ編集の手順を説明します。総合案内は[こちら]です。

## 目次
1. [使用開始までの手順](#1-使用開始までの手順)  
2. [キーマップ編集](#2-キーマップ編集)  
  [KeymapEditor](#KeymapEditor)  
  -1. [GitHubリポジトリのフォーク](#-1-GitHubリポジトリのフォーク)
## 1. 使用開始までの手順
Enigma_01が手元に届く
キースイッチとキーキャップを取り付ける
パソコンでキーマップの編集をする
　A. KeymapEditorでビルド、転送
　B. ZMK Studioで簡易編集


## 2. キーマップ編集  

2つの方法を案内します。
複雑な編集はKeymapEditorが適していますが、初めての編集はZMK Studioがおすすめです。  

|項目|KeymapEditor|ZMK Studio|  
|:-:|:-|:-|  
|事前準備|GitHubのアカウント登録<br>リポジトリのフォーク、登録|特になし|  
|編集方法|ブラウザ上でマウス操作→ファームウェアの書き出し、転送|ブラウザ上でマウス操作→ブラウザ上で上書き保存|  
|編集項目| マクロ等も編集できる|標準的な編集ができる|  

### KeymapEditor
#### -1. GitHubリポジトリのフォーク
ファームウェアはGitHub Actionsで書き出します。 GitHubアカウントを持っていない場合は、事前に[アカウント登録](https://github.com/signup)をしてください。
準備できたらEnigma_01の[リポジトリ](https://github.com/nazuna293/zmk-config-Enigma_01)をフォークします。
この時点でmainブランチにcommitやpushをするとGitHub Actionsが実行されて、ファームウェアが自動で書き出されます。

#### -2. ファームウェアをEnigma_01へ転送
ファームウェアをダウンロードして、解凍すると以下のファイルが格納されます。

Enigma_01 rgbled_adapter.uf2

以下の手順で転送しましょう。
1. Enigma_01とパソコンをUSB-Cケーブルで接続します
2. 本体のリセットボタンを2回押します
3. フォルダに「XIAO SENSE」が表示されたらEnigma_01 rgbled_adapter.uf2を貼り付けます
4. 接続が解除、数秒後に復帰します
これでファームウェアの転送は完了しました。

### ZMK Studio  
#### -1. ブラウザ上で接続
Enigma_01をパソコンと接続してブラウザ上で[ZMK Studio]を開きます。
以下の手順で接続しましょう。
1. Enigma_01とパソコンをUSB-Cケーブルで接続します
2. ブラウザ上で[ZMK Studio]を開きます
3. を選択します

### Enigma_01の起動  
最後に、以下の手順でデバイスとペアリングしましょう。
1. BT_CLR_ALL で 出荷時のペアリング情報をクリアしておく
2. BT_SEL 0 で メインデバイス と ペアリング する
3. BT_SEL 1 で サブデバイス と ペアリング する
